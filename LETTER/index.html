<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>LETTER</title>
	<link rel="icon" href="https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/120/google/241/horse_1f40e.png">
	<!-- <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script> -->

	<script src="/_extlibs/js-yaml.min.js"></script>
	<!-- <script src="/_extlibs/fitty.min.js"></script> -->
	<link rel="stylesheet" href="/assets/font/fonts.css">
	<script src="/CODE/helpers.js"></script>
	<script src="/CODE/helpersX.js"></script>
	<script src="/CODE/globalConfig.js"></script>
	<script src="/CODE/assets.js"></script>
	<script src="/CODE/assetHelpers.js"></script>
</head>

<body>
	<div id='div' style="display: inline; background-color: yellow; font-size: 100px; padding:0; margin:0">A</div>
	<script>
		var control = document.querySelector("div");
		function showSize(ev) {
			let control = ev.target;
			var controlTest = document.querySelector("div");
			console.log(control.getBoundingClientRect(control));
			console.log(controlTest.getBoundingClientRect(controlTest));

		}
		function showIcon() {
			let d = mCreate('div');
			document.body.appendChild(d);
			let decCode = hexStringToDecimal('f494'); //warehouse
			let text = '&#' + decCode + ';';
			let family = 'pictoFa';
			d.style.fontFamily = family;
			d.innerHTML = text;
			let c1 = fitty(d, { minSize: 100, maxSize: 100 });
			//console.log(control.getBoundingClientRect(control));
			d.onclick = showSize;
			c1.fit();
			console.log(control.getBoundingClientRect(control));
		}
		function myFunction() {
			let element = mBy('div')
			console.log('___________', element);
			console.log(element.innerHTML);
			console.log(element.getBoundingClientRect(element));
		}
		function showSizeX(elem) {
			setTimeout(() => {
				console.log(elem.getBoundingClientRect(elem));
			}, 0);
		}
		function showSizeX1(elem) {
			console.log(elem.getBoundingClientRect(elem));
		}
		var sammelDict = {};
		function berechnungen(info) {
			let elem = info.dLetter;
			let b = elem.getBoundingClientRect(elem);
			info.fz = 100;
			info.w = Math.round(b.width);
			info.h = Math.round(b.height);
			sammelDict[info.key]=info;
		}
		function start() {
			let info = picInfo('warehouse');
			var element = document.getElementById('div');
			// let decCode = hexStringToDecimal('f494'); //warehouse
			// let text = '&#' + decCode + ';';
			// let family = 'pictoFa';
			element.style.fontFamily = info.family;
			element.innerHTML = info.text;
			setTimeout(() => { showSizeX1(element); berechnungen(info); }, 10);
		}
		// $('#div').on('DOMSubtreeModified', function () {
		// 	console.log('changed',this,getBounds(this));//,this.getBoundingClientRect(this));
		// });
		window.onload = async () => await loadAssets(); start(); //setTimeout(start,100);
		// window.addEventListener('load', function () {
		// 	var element = document.getElementById('div');

		// 	var MutationObserver = window.MutationObserver || window.WebKitMutationObserver || window.MozMutationObserver;
		// 	var observer = new MutationObserver(myFunction);
		// 	observer.observe(element, {
		// 		childList: true
		// 	});

		// 	setTimeout(start, 1);
		// });
		//console.log(control.getBoundingClientRect(control));

		// let decCode = hexStringToDecimal('f494'); //warehouse
		// let text = '&#' + decCode + ';';
		// let family = 'pictoFa';
		// control.style.fontFamily = family;
		// control.innerHTML = text;
		// let c1 = fitty(control, { minSize: 100, maxSize: 100 });
		// control.onclick = showSize;
		// c1.fit();
		// window.onload = () => console.log(control.getBoundingClientRect(control));
		// window.addEventListener('click', showIcon)

	</script>
</body>

</html>